{"version":3,"file":"commonHelpers.js","sources":["../src/js/fetch-API.js","../src/js/setMarkup.js","../src/main.js"],"sourcesContent":["const KEY = '21553593-5dff095819739d8fe44d39f5a';\nconst BASE_URL = 'https://pixabay.com/api/videos/';\n\nexport function getResult(query){\n\tconst url = `${BASE_URL}?key=${KEY}&q=${query}`\n\treturn fetch(url).then(response =>{\n\t\tif (!response.ok){\n\t\t\tthrow new Error ({message: `error ${response.status}`})\n\t\t}\n\t\treturn response.json()\n\t})\n\t\n}\n\n","export function setMarkup(arr, list){\n\tconst markup = arr.map(item => {\n\t\treturn `<li class=\"video-list-item\">\n    <video class=\"video_item\" width=\"640\" height=\"360\" controls id=\"my-video\">\n        <source src=\"${item.videos.large.url}\" label=\"720p\">\n        <source src=\"${item.videos.medium.url}\" label=\"480p\">\n        <source src=\"${item.videos.small.url}\" label=\"360p\">\n    </video>\n\t<ul class=\"video-info-list\">\n\t\t<li class=\"video-info-item\">\n\t\t\t<p class=\"video_info\">Views</p>\n\t\t\t<p class=\"video_statistics\">${item.views}</p>\n\t\t</li>\n\t\t<li class=\"video-info-item\">\n\t\t\t<p class=\"video_info\">Downloads</p>\n\t\t\t<p class=\"video_statistics\">${item.downloads}</p>\n\t\t</li>\n\t\t<li class=\"video-info-item\">\n\t\t\t<p class=\"video_info\">Likes</p>\n\t\t\t<p class=\"video_statistics\">${item.likes}</p>\n\t\t</li>\n\t\t<li class=\"video-info-item\">\n\t\t\t<p class=\"video_info\">Comments</p>\n\t\t\t<p class=\"video_statistics\">${item.comments}</p>\n\t\t</li>\n\t\t<li class=\"video-info-item\">\n\t\t\t<img class=\"user-img\" width=\"40\" height=\"40\" src=\"${item.userImageURL}\">\n\t\t</li>\n\t</ul>\n</li>`});\nlist.insertAdjacentHTML('afterbegin', markup)\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nimport { getResult } from './js/fetch-API.js';\nimport { setMarkup } from './js/setMarkup.js';\n// import { videoSettings } from './js/videoSettings.js';\n\nconst form = document.getElementById('search-form-js');\nconst loader = document.querySelector('.loader');\nconst listResult = document.getElementById('list-result-js');\n\n\nform.addEventListener('submit', (evt) => {\n\tevt.preventDefault();\n\tconst value = evt.target.elements.result.value.toLowerCase().trim()\n\t\n\tif(!value){\n\t\tiziToast.error({message: 'Please enter a search term'});\n\t\treturn;\n\t}\n\n\tlistResult.innerHTML = '';\n\tloader.style.display = 'block';\n\n\tgetResult(value).then(arrResult => {\n\t\tif (!arrResult.hits.length){\n\t\t\tiziToast.info({message:\"Sorry, there are no images matching your search query. Please try again!\"})\n\t\t}else{\n\t\t\tconsole.log(arrResult.hits)\n\t\t\tsetMarkup(arrResult.hits, listResult);\n\t\t}\n\t}).catch(err => {\n\t\tiziToast.error({ message: err.message });\n\t}).finally(() => {\n        loader.style.display = 'none';\n\t\tform.reset();\n      });\n})\n"],"names":["KEY","BASE_URL","getResult","query","url","response","setMarkup","arr","list","markup","item","form","loader","listResult","evt","value","iziToast","arrResult","err"],"mappings":"svBAAA,MAAMA,EAAM,qCACNC,EAAW,kCAEV,SAASC,EAAUC,EAAM,CAC/B,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAG,MAAMG,CAAK,GAC7C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAW,CACjC,GAAI,CAACA,EAAS,GACb,MAAM,IAAI,MAAO,CAAC,QAAS,SAASA,EAAS,MAAM,EAAE,CAAC,EAEvD,OAAOA,EAAS,KAAM,CACxB,CAAE,CAEF,CCZO,SAASC,EAAUC,EAAKC,EAAK,CACnC,MAAMC,EAASF,EAAI,IAAIG,GACf;AAAA;AAAA,uBAEcA,EAAK,OAAO,MAAM,GAAG;AAAA,uBACrBA,EAAK,OAAO,OAAO,GAAG;AAAA,uBACtBA,EAAK,OAAO,MAAM,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,iCAKXA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIVA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,iCAIdA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,iCAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA,uDAGSA,EAAK,YAAY;AAAA;AAAA;AAAA,MAGjE,EACPF,EAAK,mBAAmB,aAAcC,CAAM,CAC5C,CCvBA,MAAME,EAAO,SAAS,eAAe,gBAAgB,EAC/CC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAa,SAAS,eAAe,gBAAgB,EAG3DF,EAAK,iBAAiB,SAAWG,GAAQ,CACxCA,EAAI,eAAc,EAClB,MAAMC,EAAQD,EAAI,OAAO,SAAS,OAAO,MAAM,YAAa,EAAC,KAAM,EAEnE,GAAG,CAACC,EAAM,CACTC,EAAS,MAAM,CAAC,QAAS,4BAA4B,CAAC,EACtD,MACA,CAEDH,EAAW,UAAY,GACvBD,EAAO,MAAM,QAAU,QAEvBV,EAAUa,CAAK,EAAE,KAAKE,GAAa,CAC7BA,EAAU,KAAK,QAGnB,QAAQ,IAAIA,EAAU,IAAI,EAC1BX,EAAUW,EAAU,KAAMJ,CAAU,GAHpCG,EAAS,KAAK,CAAC,QAAQ,0EAA0E,CAAC,CAKrG,CAAE,EAAE,MAAME,GAAO,CACfF,EAAS,MAAM,CAAE,QAASE,EAAI,OAAS,CAAA,CACzC,CAAE,EAAE,QAAQ,IAAM,CACVN,EAAO,MAAM,QAAU,OAC7BD,EAAK,MAAK,CACZ,CAAO,CACP,CAAC"}